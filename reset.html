<!DOCTYPE html>
<html>
<head>
  <title>Reset Password - ChatOnly</title>
</head>
<body>
  <h2>Reset Your Password</h2>
  <input type="email" id="email" placeholder="Enter your email" required />
  <button onclick="sendResetLink()">Send Reset Link</button>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js";
    import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyD7LBanvFRUWjwpxGdWdlIMDeQ_KJjE1pg",
      authDomain: "chatonly-c2025.firebaseapp.com",
      projectId: "chatonly-c2025",
      storageBucket: "chatonly-c2025.firebasestorage.app",
      messagingSenderId: "361785272269",
      appId: "1:361785272269:web:44a1d62ac868cf0c814684",
      measurementId: "G-EN4M32FHE9"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    window.sendResetLink = () => {
      const email = document.getElementById("email").value;
      sendPasswordResetEmail(auth, email)
        .then(() => {
          alert("Password reset link sent to your email.");
        })
        .catch((error) => {
          console.error("Reset Error:", error);
          alert("Failed to send reset link. Check email or try again.");
        });
    };
  </script>
</body>
</html>
